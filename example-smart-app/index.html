<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
    <title>[awilli1025]Example-SMART-App</title>

    <link rel='stylesheet' type='text/css' href='./src/css/example-smart-app.css'>
  </head>
  <body>
    <div id='errors'>
    </div>
    <div id="loading" class="spinner">
      <div class="bounce1"></div>
      <div class="bounce2"></div>
      <div class="bounce3"></div>
    </div>
    <div id='holder' >

      <h2>Patient Resource</h2>
      <table>
        <tr>
          <th>First Name:</th>
          <td id='fname'></td>
        </tr>
        <tr>
          <th>Last Name:</th>
          <td id='lname'></td>
        </tr>
        <tr>
          <th>Gender:</th>
          <td id='gender'></td>
        </tr>
        <tr>
          <th>Date of Birth:</th>
          <td id='birthdate'></td>
        </tr>
        <tr>
          <th>Age:</th>
          <td id='age'></td>
        </tr>
      </table>
    </div>

      <center><div>
        <a href="http://imgur.com/6BhK6ge"><img src="http://i.imgur.com/6BhK6ge.png" alt = "CareWeb Plus" style = "width:468px;height:132px;"></a>
        </div>
      </center>


      <div id = "container" style = "width:100%">
        <div id="left" style = "float:left; width:50%">
         
          <table class="chiefComplaintTab" style ="border:2px solid #ADD8E6">
            <tr>
              <td>Chief Complaint: Chest Pain</td>
            </tr>
          </table>
        
          <table class = "dataTable" style ="border:2px solid #ADD8E6;">
            <tr>
              <th></th>
              <th>Document Info (temp)</th>
              <th>Date</th>
              <th>Source</th>
            </tr>

            <tr>
              <td>EKG Report</td>
              <td id='EKG'></td>
              <td>Date not specified</td>
              <td>Source not specified</td>
            </tr>

            <tr>
              <td>Cath. Report</td>
              <td id='Cath'></td>
              <td>Date not specified</td>
              <td>Source not specified</td>
            </tr>

            <tr>
              <td>Echo</td>
              <td id='Echo'></td>
              <td>Date not specified</td>
              <td>Source not specified</td>
            </tr>

            <tr>
              <td>Cardiology Note</td>
              <td id='Note'></td>
              <td>Date not specified</td>
              <td>Source not specified</td>
            </tr>

            <tr>
              <td>Hosp. D/C Summary</td>
              <td id='D/C'></td>
              <td>Date not specified</td>
              <td>Source not specified</td>
            </tr>
          </table>
        </div>
      
        <div id="right" style = "float:left; width:50%">
            <section style="height:328px;width:400px;border:1px solid #ccc;font:16px/26px Georgia, Garamond, Serif;overflow:auto;">
              Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data. Scroll box for the data.
            </section>
        </div>
      </div>
   <!-- First Pic
   <div id="feedback"><a href="http://imgur.com/BNOa2Pn"><img src="http://i.imgur.com/BNOa2Pn.png" title="source: imgur.com" height = "50" width = "65"/></a></div>
   -->
   
   <!-- Experimenting with Feedback Button -->
   	<div>
   		<button id = "feedbackbutton" style = "height:100px;width:103px;">
   		</button>
   		<div id = "FeedbackModal" class="modal">
   			<div class = "modal-content">
   				<div class = "modal-header">
   					<span class = "close">&times;</span>
   					<h2>Feedback</h2>
				</div>
  				
  				<div class = "modal-body">
  					<div class = "container">
						<form action="/action_page.php">
							<label for="firname">First Name</label>
							<input type="text" id="firname" name="firstname" placeholder="Your name..">

							<label for="lasname">Last Name</label>
							<input type="text" id="lasname" name="lastname" placeholder="Your last name..">

							<label for="hospital">Hospital</label>
							<select id="hospital" name="hospital">
							  <option value="Methodist">Methodist</option>
							  <option value="Riley Ray">Riley Ray</option>
							  <option value="Eskenazi Health">Eskenazi Health</option>
							  <option value= "IUHealth"> IU Health</option>
							</select>

							<label for="subject">Subject</label>
							<textarea id="subject" name="subject" placeholder="Write something.." style="height:200px"></textarea>

							<input type="submit" value="Submit">
							<span class = "close">&times;</span>
						</form>
					</div>
				</div>
			</div>
   		</div>
   	</div>
    
    <script>
		// Get the modal
		var modal = document.getElementById('FeedbackModal');

		// Get the button that opens the modal
		var btn = document.getElementById("feedbackbutton");

		// Get the <span> element that closes the modal
		var span = document.getElementsByClassName("close")[0];

		// When the user clicks the button, open the modal 
		btn.onclick = function() {
			modal.style.display = "block";
		}

		// When the user clicks on <span> (x), close the modal
		span.onclick = function() {
			modal.style.display = "none";
		}

		// When the user clicks anywhere outside of the modal, close it
		window.onclick = function(event) {
			if (event.target == modal) {
				modal.style.display = "none";
			}
		}
	</script>

	<script src='./lib/es6-shim-0.35.1.min.js'></script>
    <script src='./src/js/example-smart-app.js'></script>
    <script src='./lib/fhir-client.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
      extractData().then(
        //Display Patient Demographics and Observations if extractData was success
        function(p) {
          drawVisualization(p);
        },

        //Display 'Failed to call FHIR Service' if extractData failed
        function() {
          $('#loading').hide();
          $('#errors').html('<p> Failed to call FHIR Service </p>');
        }
      );
    </script>
  </body>
</html>
